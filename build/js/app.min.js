angular.module("Services",[]).factory("repositoriesService",["$http",function($http){var respositoryRequest=function(){return $http({method:"JSONP",url:"https://api.github.com/users/globocom/repos?callback=JSON_CALLBACK"})};return{event:function(){return respositoryRequest()}}}]).factory("commitsRepositoryService",["$http",function($http){var commitsRequest=function(repos){return $http({method:"JSONP",url:"https://api.github.com/repos/globocom/"+repos+"/commits?callback=JSON_CALLBACK"})};return{event:function(repos){return commitsRequest(repos)}}}]);var app=angular.module("ApiGit",["Services","ngRoute","angularUtils.directives.dirPagination"]);app.config(function($routeProvider,$locationProvider){$routeProvider.when("/",{controller:"repositoriesController"}).when("/:nameRepo",{templateUrl:"/views/repositories.html",controller:"routeNameController"}).otherwise({redirectTo:"/"}),$locationProvider.html5Mode({enabled:!0,requireBase:!1})}),app.controller("repositoriesController",function($scope,repositoriesService,commitsRepositoryService){$scope.repositories=[],$scope.repos=[],repositoriesService.event().success(function(data,status){$scope.repositories=data.data}),$scope.dataRepository=function(obj){$scope.repository=obj,$scope.repos=obj.name},$scope.$watch("repos",function(newRepos){newRepos&&commitsRepositoryService.event(newRepos).success(function(data,status){$scope.commits=data.data,console.info($scope.commits)})})}),app.controller("routeNameController",function($scope,$routeParams){$scope.nameRepo=$routeParams.nameRepo});